<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>VANVINT Jewelry Store</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"
    />
    <link href="./includes/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="style1.css" />
    <link rel="stylesheet" href="style2.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="productos.css" />
  </head>

  <body>
    <header>
      <nav class="nav">
        <div class="logo-and-buttons">
          <img src="img-new/logo.png" />
          <div class="icono-carrito" onclick="mostrarCarrito()">
            üõí
            <span
              id="notificacionCarrito"
              class="notificacion"
              style="display: none"
              >0</span
            >
          </div>
          <div
            class="modal-carrito"
            id="modalCarrito"
            onclick="cerrarCarrito(event)"
          >
            <div class="carrito-container" onclick="event.stopPropagation()">
              <span class="cerrar-carrito" onclick="cerrarCarrito(event)"
                >‚úñ</span
              >
              <h2>CARRITO DE COMPRAS</h2>
              <div id="productosCarrito"></div>
              <button
                onclick="enviarWhatsApp('${product.name}')"
                class="btn-comprar"
              >
                Acquistare
              </button>
            </div>
          </div>
          <ul class="nav-btn">
            <li>
              <a href="index.html"
                ><button class="btn-header">Inizio</button></a
              >
            </li>
            <li>
              <a href="productos.html"
                ><button class="btn-header">Prodotti</button></a
              >
            </li>
            <li>
              <a href="contactos.html"
                ><button class="btn-header">Contatti</button></a
              >
            </li>
            <li>
              <a href="acerca.html"
                ><button class="btn-header">Chi siamo</button></a
              >
            </li>
          </ul>
        </div>
      </nav>
      <div class="w-100 row">
        <div class="col-6"></div>
        <div class="col-6 d-flex"></div>
      </div>
    </header>

    <h2 class="text-center darkred">-Catalogo-</h2>

    <div id="menu-container">
      <button
        class="btn-menu"
        data-categoria="anello"
        onclick="filtrarObjetos('anello')"
      >
        Anelli
      </button>
      <button
        class="btn-menu"
        data-categoria="orechinni"
        onclick="filtrarObjetos('orecchini')"
      >
        Orecchini
      </button>
      <button
        class="btn-menu"
        data-categoria="collana"
        onclick="filtrarObjetos('collana')"
      >
        Collane
      </button>
      <button class="btn-menu" onclick="filtrarObjetos('')">Tutti</button>
    </div>
    <div id="resultados"></div>

    <div class="product-list" id="resultadoContainer"></div>

    <script>
      function filtrarObjetos(categoria) {
        document.getElementById("resultadoContainer").innerHTML = `Mostrando ${
          categoria || "todos"
        }`;
      }

      document.addEventListener("DOMContentLoaded", function () {
        // Esperar a que todos los elementos existan antes de ejecutar el script
        setTimeout(() => {
          const params = new URLSearchParams(window.location.search);
          const categoria = params.get("categoria");

          if (categoria) {
            console.log(`Detectada categor√≠a en URL: ${categoria}`);

            // Buscar el bot√≥n con la categor√≠a y simular un clic
            const boton = document.querySelector(
              `[data-categoria="${categoria}"]`
            );
            if (boton) {
              console.log("Bot√≥n encontrado:", boton);
              boton.click(); // Simula el clic en el bot√≥n para activar la categor√≠a
            } else {
              console.log(
                "No se encontr√≥ el bot√≥n para la categor√≠a:",
                categoria
              );
            }
          }
        }, 100); // Retraso peque√±o para asegurar que todo el DOM est√° cargado
      });
    </script>

    <script src="productos.js"></script>
    <script src="./includes/bootstrap/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <script>
      var swiper = new Swiper(".myswiper", {
        effect: "coverflow",
        grabCursor: true,
        centeredSlides: true,
        slidesPerView: "auto",
        loop: false,
        coverflowEffect: {
          depth: 500,
          modifer: 1,
          slidesShadows: true,
          rotate: 0,
          stretch: 0,
        },
      });
    </script>

    <script src="vanvint.js"></script>
    <script src="index.js"></script>
  </body>
</html>
